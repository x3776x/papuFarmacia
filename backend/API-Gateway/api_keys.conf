# The map directive takes two parameters. 
# The first defines where to find the API key, in this case in 
#  the HTTP header `apikey` of the client request, and is 
#  captured in the variable `http_apikey`. 
# The second parameter creates a new variable `api_client_name` 
#  and sets it to the value of the second parameter on the 
#  line where the first parameter matches the key.
map $http_apikey $api_client_name {
    default "";
    "7B5zIqmRGXmrJTFmKa99vcit" "web_client";
}

# TODO Pass keys to .env or secret management system in production